#!/bin/bash
# GENIE_GITHOOKS_MARKER
# Genie GitHooks - Pre-commit Hook Wrapper
# This wrapper calls the Python implementation for cross-platform compatibility

# Find Python executable
if command -v python3 > /dev/null 2>&1; then
    python_cmd="python3"
elif command -v python > /dev/null 2>&1; then
    python_cmd="python"
else
    echo "ERROR: Python 3 is required but not found. Please install Python 3."
    exit 1
fi

# Get the directory where this script is located
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

# Set environment variables for the Python script
export BASE_API="${BASE_API}"

# Execute the Python pre-commit script
exec "$python_cmd" "$SCRIPT_DIR/pre-commit.py" "$@" 